<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/sample.css">
  <title>変な知識ローダ</title>
</head>
<script src="https://unpkg.com/stein-js-client"></script>

<body>

  <script>
    const store = new SteinStore(
      "https://api.steinhq.com/v1/storages/60081738f62b6004b3eb652e"
    );
  </script>

  <div class="data" id="data" data-stein-url="https://api.steinhq.com/v1/storages/60081738f62b6004b3eb652e/'Sheet1'"
    data-stein-limit="1">
    <img id="image" class="data__image">
    <div class="data__text">
      <div class="data__explanation">{{value}}</div>
      <div class="data__detail">{{value_detail}}</div>
    </div>
  </div>
  <script>
    var random = Math.floor(Math.random() * 33); //　ファイルの行数値はハードコード
    console.log('random is', random)
    store.read("Sheet1", { limit: 1, offset: random }).then(data => {
      console.dir(data);
      var imageUrl = data[0].image_url;
      console.log('imageUrl', imageUrl);
      document.getElementById("image").setAttribute("src", imageUrl);
    })
    document.getElementById("data").setAttribute("data-stein-offset", random);

  </script>
  <script src="https://unpkg.com/stein-expedite@0.0.4/dist/index.js"></script>

</body>

</html>